import{u as re,e as le,S as ie,j as e}from"./index-QehNXi8v.js";import{u as de,h as ne,r as K,d as b}from"./vendor-react-D64xOC9_.js";import{D as oe}from"./DataTable-Dz-ruP56.js";import{R as xe}from"./RecordDetailModal-BxgmvPoP.js";import{f as x,M as ce,P as W}from"./MarkdownContent-7007vf0M.js";import{I as me,a as be}from"./inspectorBridge-BnIEasIL.js";import{aD as D,F as he,m as _,ad as ue,af as pe,ae as F,r as ke,l as je}from"./vendor-icons-Du2dXQHa.js";import{R as fe,B as ge,C as f,X as g,Y as w,T as h,L as u,a as P,b as v,c as we,d as U,A as ve,e as ye,P as Ne,f as Se,g as Ae,h as Le,i as _e,j as $e,k as Re,l as Ce,m as Te,S as Ee,n as Ie}from"./vendor-charts-BtQqxQq4.js";const d=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"],qe=({title:c,sql:j,config:t,globalFilters:y,showInspectorJump:q=!1,inspectorReturnHash:$})=>{const{t:n}=re(),R=de(),N=ne(),p=K.useMemo(()=>{let a=j;if(!y||y.length===0)return a;const s=y.filter(l=>l.column&&(l.operator==="is null"||l.value));if(s.length===0)return a;const r=s.map(l=>{const o=`"${l.column.replace(/"/g,'""')}"`,S=typeof l.value=="string"?`'${l.value.replace(/'/g,"''")}'`:l.value,k=l.operator==="contains"?"LIKE":l.operator==="is null"?"IS NULL":l.operator;if(l.operator==="is null")return`${o} IS NULL`;const A=l.operator==="contains"?`'%${l.value}%'`:S;return`${o} ${k} ${A}`}).join(" AND ");return a.toUpperCase().includes("WHERE")?a=a.replace(/WHERE/i,`WHERE (${r}) AND `):a.toUpperCase().includes("GROUP BY")?a=a.replace(/GROUP BY/i,`WHERE ${r} GROUP BY `):a.toUpperCase().includes("ORDER BY")?a=a.replace(/ORDER BY/i,`WHERE ${r} ORDER BY `):a.toUpperCase().includes("LIMIT")?a=a.replace(/LIMIT/i,`WHERE ${r} LIMIT `):a+=` WHERE ${r}`,a},[j,y]),L=q&&/^\s*SELECT\b/i.test(p),M=b.useCallback(()=>{if(!L)return;localStorage.setItem(me,p);const a=`#${N.pathname}${N.search||""}`;localStorage.setItem(be,$||a),R("/sql-workspace")},[L,p,$,N.pathname,N.search,R]),{data:i,loading:B,error:C}=le(async()=>t.type==="text"||t.type==="markdown"||t.type==="status"||t.type==="section"||t.type==="kpi_manual"||t.type==="kpu_manual"||t.type==="image"?[]:p?await ie.executeRaw(p):[],[p,t.type]),T=(t.imageUrl||"").trim(),[Y,E]=b.useState(!1);b.useEffect(()=>{E(!1)},[T]);const[G,I]=b.useState(!1),[H,V]=b.useState(0),[X,Z]=b.useState(null);b.useEffect(()=>{if(i&&i.length>0){const a=j.match(/FROM\s+([a-zA-Z0-9_]+)/i),s=a?a[1]:"Dataset",r={title:c,description:`${n("widgets.data_inspector.description")}: ${s}`,type:"object",properties:Object.keys(i[0]).reduce((l,o)=>{const k=typeof i[0][o]=="number"?"number":"string";return l[o]={type:k,description:o},l},{})};Z(r)}},[i,j,c,n]);const Q=K.useMemo(()=>!i||i.length===0?[]:Object.keys(i[0]).map(a=>({header:a,accessor:a,render:s=>x(s[a],a)})),[i]),J={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl"};if(t.type==="text")return e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-slate-800 rounded-xl border border-slate-300 dark:border-slate-700/50 shadow-sm hover:shadow-xl hover:shadow-slate-200/50 dark:hover:shadow-none transition-all duration-500 overflow-hidden",children:[e.jsx("div",{className:"flex items-center justify-between pt-2.5 pb-2.5 px-5 bg-slate-50/50 dark:bg-slate-900/20 border-b border-slate-200 dark:border-slate-800/50",children:e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"p-1.5 rounded-xl shrink-0 shadow-sm text-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400",children:e.jsx(D,{className:"w-4 h-4"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-xs font-bold leading-snug text-slate-800 dark:text-white truncate tracking-tight",children:c}),e.jsx("div",{className:"h-0.5 w-4 bg-slate-200 dark:bg-slate-700 rounded-full mt-0.5"})]})]})}),e.jsx("div",{className:`flex-1 p-4 whitespace-pre-wrap break-words text-slate-800 dark:text-slate-100 ${J[t.textSize||"md"]} ${t.textBold?"font-bold":"font-normal"} ${t.textItalic?"italic":"not-italic"} ${t.textUnderline?"underline":"no-underline"} ${t.textAlign==="center"?"text-center":t.textAlign==="right"?"text-right":"text-left"}`,children:(t.textContent||"").trim()||n("querybuilder.text_placeholder")})]});if(t.type==="markdown")return e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-slate-800 rounded-xl border border-slate-300 dark:border-slate-700/50 shadow-sm hover:shadow-xl hover:shadow-slate-200/50 dark:hover:shadow-none transition-all duration-500 overflow-hidden",children:[e.jsx("div",{className:"flex items-center justify-between pt-2.5 pb-2.5 px-5 bg-slate-50/50 dark:bg-slate-900/20 border-b border-slate-200 dark:border-slate-800/50",children:e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"p-1.5 rounded-xl shrink-0 shadow-sm text-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400",children:e.jsx(he,{className:"w-4 h-4"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-xs font-bold leading-snug text-slate-800 dark:text-white truncate tracking-tight",children:c}),e.jsx("div",{className:"h-0.5 w-4 bg-slate-200 dark:bg-slate-700 rounded-full mt-0.5"})]})]})}),e.jsx("div",{className:"flex-1 p-4 overflow-auto text-slate-800 dark:text-slate-100",children:e.jsx(ce,{markdown:(t.markdownContent||"").trim(),emptyText:n("querybuilder.markdown_placeholder",`# Titel
Text mit **Fett** und [Link](https://example.com)`),className:"text-sm leading-6"})})]});if(t.type==="status"){const a=t.statusLevel||"ok",r={ok:{ring:"ring-emerald-200 bg-emerald-50 dark:bg-emerald-900/20",dot:"bg-emerald-500",title:"text-emerald-800 dark:text-emerald-300",text:"text-emerald-700/90 dark:text-emerald-200/90"},info:{ring:"ring-blue-200 bg-blue-50 dark:bg-blue-900/20",dot:"bg-blue-500",title:"text-blue-800 dark:text-blue-300",text:"text-blue-700/90 dark:text-blue-200/90"},warning:{ring:"ring-amber-200 bg-amber-50 dark:bg-amber-900/20",dot:"bg-amber-500",title:"text-amber-800 dark:text-amber-300",text:"text-amber-700/90 dark:text-amber-200/90"},critical:{ring:"ring-rose-200 bg-rose-50 dark:bg-rose-900/20",dot:"bg-rose-500",title:"text-rose-800 dark:text-rose-300",text:"text-rose-700/90 dark:text-rose-200/90"}}[a];return e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-slate-800 rounded-xl border border-slate-300 dark:border-slate-700/50 shadow-sm hover:shadow-xl hover:shadow-slate-200/50 dark:hover:shadow-none transition-all duration-500 overflow-hidden",children:[e.jsx("div",{className:"flex items-center justify-between pt-2.5 pb-2.5 px-5 bg-slate-50/50 dark:bg-slate-900/20 border-b border-slate-200 dark:border-slate-800/50",children:e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"p-1.5 rounded-xl shrink-0 shadow-sm text-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400",children:e.jsx(_,{className:"w-4 h-4"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-xs font-bold leading-snug text-slate-800 dark:text-white truncate tracking-tight",children:c}),e.jsx("div",{className:"h-0.5 w-4 bg-slate-200 dark:bg-slate-700 rounded-full mt-0.5"})]})]})}),e.jsx("div",{className:"flex-1 p-4 flex items-center justify-center",children:e.jsxs("div",{className:`w-full rounded-xl ring-1 ${r.ring} p-5`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`relative inline-flex h-3.5 w-3.5 rounded-full ${r.dot}`,children:t.statusPulse&&e.jsx("span",{className:`absolute inline-flex h-full w-full rounded-full ${r.dot} opacity-75 animate-ping`})}),e.jsx("span",{className:`text-[11px] font-black uppercase tracking-wider ${r.title}`,children:n(`querybuilder.status_level_${a}`,a)})]}),e.jsx("div",{className:`mt-3 text-lg font-bold ${r.title}`,children:(t.statusTitle||"").trim()||n("querybuilder.status_placeholder_title","System status")}),e.jsx("p",{className:`mt-2 text-sm ${r.text}`,children:(t.statusMessage||"").trim()||n("querybuilder.status_placeholder_message","All core systems are running stable.")})]})})]})}if(t.type==="section"){const a=t.sectionAlign||"left",s=a==="center"?"text-center":a==="right"?"text-right":"text-left",r=t.sectionDividerStyle||"line";return e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-slate-800 rounded-xl border border-slate-300 dark:border-slate-700/50 shadow-sm hover:shadow-xl hover:shadow-slate-200/50 dark:hover:shadow-none transition-all duration-500 overflow-hidden",children:[e.jsx("div",{className:"flex items-center justify-between pt-2.5 pb-2.5 px-5 bg-slate-50/50 dark:bg-slate-900/20 border-b border-slate-200 dark:border-slate-800/50",children:e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"p-1.5 rounded-xl shrink-0 shadow-sm text-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400",children:e.jsx(ue,{className:"w-4 h-4"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-xs font-bold leading-snug text-slate-800 dark:text-white truncate tracking-tight",children:c}),e.jsx("div",{className:"h-0.5 w-4 bg-slate-200 dark:bg-slate-700 rounded-full mt-0.5"})]})]})}),e.jsx("div",{className:"flex-1 p-5 flex flex-col justify-center",children:e.jsxs("div",{className:`w-full ${s}`,children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight text-slate-800 dark:text-slate-100",children:(t.sectionTitle||"").trim()||n("querybuilder.section_placeholder_title","Section title")}),(t.sectionSubtitle||"").trim()&&e.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:t.sectionSubtitle}),r==="line"&&e.jsx("div",{className:`mt-4 h-px bg-slate-300 dark:bg-slate-700 ${a==="center"?"mx-auto w-2/3":a==="right"?"ml-auto w-2/3":"w-2/3"}`}),r==="double"&&e.jsxs("div",{className:`mt-4 space-y-1 ${a==="center"?"mx-auto w-2/3":a==="right"?"ml-auto w-2/3":"w-2/3"}`,children:[e.jsx("div",{className:"h-px bg-slate-300 dark:bg-slate-700"}),e.jsx("div",{className:"h-px bg-slate-300 dark:bg-slate-700"})]})]})})]})}if(t.type==="kpi_manual"||t.type==="kpu_manual"){const a=t.kpiTrend||t.kpuTrend||"flat",s=z=>{if(!z)return Number.NaN;const se=z.replace(/\s+/g,"").replace(",",".").replace(/[^0-9.+-]/g,"");return Number(se)},r=s(t.kpiValue||t.kpuValue),l=s(t.kpiTarget||t.kpuTarget),o=t.kpiAlign||t.kpuAlign||"left",S=o==="center"?"text-center":o==="right"?"text-right":"text-left",k=o==="center"?"justify-center":o==="right"?"justify-end":"justify-start",A=Number.isFinite(r)&&Number.isFinite(l)&&l!==0,O=A?r/l:Number.NaN,m=A?O>=1?"ok":O>=.95?"warn":"crit":"neutral",ee=a==="up"?"text-emerald-700 dark:text-emerald-300 bg-emerald-50 dark:bg-emerald-900/20":a==="down"?"text-rose-700 dark:text-rose-300 bg-rose-50 dark:bg-rose-900/20":"text-slate-700 dark:text-slate-300 bg-slate-100 dark:bg-slate-700/40",te=m==="ok"?"text-emerald-700 dark:text-emerald-300 bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800":m==="warn"?"text-amber-700 dark:text-amber-300 bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800":m==="crit"?"text-rose-700 dark:text-rose-300 bg-rose-50 dark:bg-rose-900/20 border-rose-200 dark:border-rose-800":"text-slate-600 dark:text-slate-300 bg-slate-100 dark:bg-slate-700/40 border-slate-200 dark:border-slate-700",ae=m==="ok"?"text-emerald-700 dark:text-emerald-300":m==="warn"?"text-amber-700 dark:text-amber-300":m==="crit"?"text-rose-700 dark:text-rose-300":"text-slate-900 dark:text-slate-100";return e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-slate-800 rounded-xl border border-slate-300 dark:border-slate-700/50 shadow-sm hover:shadow-xl hover:shadow-slate-200/50 dark:hover:shadow-none transition-all duration-500 overflow-hidden",children:[e.jsx("div",{className:"flex items-center justify-between pt-2.5 pb-2.5 px-5 bg-slate-50/50 dark:bg-slate-900/20 border-b border-slate-200 dark:border-slate-800/50",children:e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"p-1.5 rounded-xl shrink-0 shadow-sm text-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400",children:e.jsx(pe,{className:"w-4 h-4"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-xs font-bold leading-snug text-slate-800 dark:text-white truncate tracking-tight",children:c}),e.jsx("div",{className:"h-0.5 w-4 bg-slate-200 dark:bg-slate-700 rounded-full mt-0.5"})]})]})}),e.jsx("div",{className:"flex-1 p-5 flex items-center justify-center",children:e.jsxs("div",{className:`w-full rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 p-5 ${S}`,children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-wider text-slate-400",children:(t.kpiTitle||t.kpuTitle||"").trim()||n("querybuilder.kpi_placeholder_title","KPI")}),e.jsxs("div",{className:`mt-3 flex items-end gap-2 ${k}`,children:[e.jsx("div",{className:`text-4xl font-black tracking-tight ${ae}`,children:(t.kpiValue||t.kpuValue||"").trim()||"--"}),(t.kpiUnit||t.kpuUnit||"").trim()&&e.jsx("div",{className:"pb-1 text-sm font-bold text-slate-500 dark:text-slate-400",children:t.kpiUnit||t.kpuUnit})]}),e.jsxs("div",{className:`mt-3 flex flex-wrap items-center gap-2 ${k}`,children:[e.jsxs("span",{className:"px-2 py-1 rounded-full text-[10px] font-black uppercase tracking-wide bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300",children:[n("querybuilder.kpi_target","Target"),": ",(t.kpiTarget||t.kpuTarget||"").trim()||"-"]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-black uppercase tracking-wide ${ee}`,children:n(`querybuilder.kpi_trend_${a}`,a)}),e.jsx("span",{className:`px-2 py-1 rounded-full border text-[10px] font-black uppercase tracking-wide ${te}`,children:m==="ok"?n("querybuilder.kpi_status_on_target","On target"):m==="warn"?n("querybuilder.kpi_status_near_target","Near target"):m==="crit"?n("querybuilder.kpi_status_below_target","Below target"):n("querybuilder.kpi_status_no_compare","No target comparison")})]}),(t.kpiNote||t.kpuNote||"").trim()&&e.jsx("p",{className:"mt-3 text-xs text-slate-500 dark:text-slate-400",children:t.kpiNote||t.kpuNote})]})})]})}if(t.type==="image"){const a=t.imageAlign||"center",s=a==="left"?"items-start":a==="right"?"items-end":"items-center",r=T;return e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-slate-800 rounded-xl border border-slate-300 dark:border-slate-700/50 shadow-sm hover:shadow-xl hover:shadow-slate-200/50 dark:hover:shadow-none transition-all duration-500 overflow-hidden",children:[e.jsx("div",{className:"flex items-center justify-between pt-2.5 pb-2.5 px-5 bg-slate-50/50 dark:bg-slate-900/20 border-b border-slate-200 dark:border-slate-800/50",children:e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"p-1.5 rounded-xl shrink-0 shadow-sm text-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400",children:e.jsx(F,{className:"w-4 h-4"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-xs font-bold leading-snug text-slate-800 dark:text-white truncate tracking-tight",children:c}),e.jsx("div",{className:"h-0.5 w-4 bg-slate-200 dark:bg-slate-700 rounded-full mt-0.5"})]})]})}),e.jsx("div",{className:"flex-1 p-5",children:e.jsx("div",{className:`h-full w-full flex flex-col ${s} justify-center`,children:r&&!Y?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:r,alt:(t.imageAlt||"").trim()||"Image widget",referrerPolicy:"no-referrer",crossOrigin:"anonymous",onError:()=>E(!0),className:`max-h-[320px] w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 ${t.imageFit==="cover"?"object-cover":"object-contain"}`}),(t.imageCaption||"").trim()&&e.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:t.imageCaption})]}):r?e.jsx("div",{className:"w-full rounded-lg border border-amber-300 bg-amber-50 dark:bg-amber-900/20 dark:border-amber-700 p-3 text-amber-900 dark:text-amber-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(_,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs font-bold",children:n("querybuilder.image_load_error_title","Image could not be loaded.")}),e.jsx("p",{className:"text-[11px] mt-1",children:n("querybuilder.image_load_error_hint","Please check URL access and CORS/hotlink protection.")}),e.jsx("p",{className:"text-[10px] mt-1 font-mono break-all opacity-80",children:r})]})]})}):e.jsxs("div",{className:"h-[220px] w-full rounded-lg border border-dashed border-slate-300 dark:border-slate-700 flex flex-col items-center justify-center text-slate-400",children:[e.jsx(F,{className:"w-8 h-8 mb-2 opacity-60"}),e.jsx("p",{className:"text-xs font-semibold text-center",children:n("querybuilder.image_empty_hint","Please provide an image URL.")})]})})})]})}return B?e.jsx("div",{className:"h-full flex items-center justify-center text-slate-400",children:e.jsx(ke,{className:"w-6 h-6 animate-spin"})}):C?e.jsx("div",{className:"h-full flex items-center justify-center text-red-400 p-4 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(_,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs",children:C.message})]})}):!i||i.length===0?e.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 text-sm",children:n("common.no_data")}):e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-slate-800 rounded-xl border border-slate-300 dark:border-slate-700/50 shadow-sm hover:shadow-xl hover:shadow-slate-200/50 dark:hover:shadow-none transition-all duration-500 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between pt-2.5 pb-2.5 px-5 bg-slate-50/50 dark:bg-slate-900/20 border-b border-slate-200 dark:border-slate-800/50",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"p-1.5 rounded-xl shrink-0 shadow-sm text-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400",children:e.jsx(D,{className:"w-4 h-4"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-xs font-bold leading-snug text-slate-800 dark:text-white truncate tracking-tight",children:c}),e.jsx("div",{className:"h-0.5 w-4 bg-slate-200 dark:bg-slate-700 rounded-full mt-0.5"})]})]}),L&&e.jsxs("button",{type:"button",onClick:M,className:"inline-flex items-center gap-1.5 px-2 py-1 text-[10px] font-bold uppercase tracking-wider rounded-md border border-slate-200 dark:border-slate-700 text-slate-500 hover:text-blue-600 hover:border-blue-300 dark:hover:border-blue-600 transition-colors",title:n("common.open_in_inspector"),children:[e.jsx(je,{className:"w-3 h-3"}),n("common.open")]})]}),e.jsx("div",{className:"flex-1 min-h-0 p-2",children:t.type==="table"?e.jsx("div",{className:"h-full overflow-auto",children:e.jsx(oe,{columns:Q,data:i,onRowClick:a=>{const s=i.indexOf(a);V(s>=0?s:0),I(!0)}})}):t.type==="pivot"?e.jsx(W,{data:i,rows:t.pivotRows||[],cols:t.pivotCols||[],measures:t.pivotMeasures||[]}):t.type==="kpi"?e.jsx("div",{className:"h-full flex flex-col items-center justify-center p-4",children:i&&i.length>0?(()=>{const a=i[0][Object.keys(i[0])[0]],s=Number(a);let r="text-slate-900 dark:text-white";if(t.rules&&!isNaN(s))for(const l of t.rules){let o=!1;switch(l.operator){case">":o=s>l.value;break;case"<":o=s<l.value;break;case">=":o=s>=l.value;break;case"<=":o=s<=l.value;break;case"==":o=s===l.value;break}if(o){l.color==="green"?r="text-emerald-500":l.color==="red"?r="text-rose-500":l.color==="yellow"?r="text-amber-500":l.color==="blue"?r="text-blue-500":r=`text-[${l.color}]`;break}}return e.jsxs("div",{className:"flex flex-col items-center text-center animate-in zoom-in-95 duration-500",children:[e.jsx("div",{className:`text-4xl md:text-5xl lg:text-6xl font-black tracking-widest break-all transition-colors duration-300 ${r}`,children:x(a,Object.keys(i[0])[0])}),e.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.3em] mt-3",children:Object.keys(i[0])[0]})]})})():e.jsx("div",{className:"text-slate-300 text-[10px] font-bold uppercase tracking-widest",children:n("common.no_data")})}):e.jsx(fe,{width:"100%",height:"100%",minWidth:0,children:t.type==="bar"?e.jsxs(ge,{data:i,children:[e.jsx(f,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),e.jsx(g,{dataKey:t.xAxis,axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"}}),e.jsx(w,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"},tickFormatter:a=>x(a,(t.yAxes||[])[0])}),e.jsx(h,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f1f5f9"},formatter:(a,s)=>[x(a,s),s]}),e.jsx(u,{verticalAlign:"top",height:36,iconType:"circle",wrapperStyle:{fontSize:"10px",fontWeight:"bold",textTransform:"uppercase"}}),(t.yAxes||(t.yAxis?[t.yAxis]:[])).map((a,s)=>e.jsx(P,{dataKey:a,fill:s===0?t.color||d[0]:d[s%d.length],radius:[4,4,0,0],children:t.showLabels&&e.jsx(v,{dataKey:a,position:"top",style:{fontSize:"10px",fontWeight:"bold",fill:"#64748b"},formatter:r=>x(r,a)})},a))]}):t.type==="line"?e.jsxs(we,{data:i,children:[e.jsx(f,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),e.jsx(g,{dataKey:t.xAxis,axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"}}),e.jsx(w,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"},tickFormatter:a=>x(a,(t.yAxes||[])[0])}),e.jsx(h,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"},formatter:(a,s)=>[x(a,s),s]}),e.jsx(u,{verticalAlign:"top",height:36,iconType:"circle",wrapperStyle:{fontSize:"10px",fontWeight:"bold",textTransform:"uppercase"}}),(t.yAxes||(t.yAxis?[t.yAxis]:[])).map((a,s)=>e.jsx(U,{type:"monotone",dataKey:a,stroke:s===0?t.color||d[0]:d[s%d.length],strokeWidth:3,dot:{r:4},activeDot:{r:6},children:t.showLabels&&e.jsx(v,{dataKey:a,position:"top",offset:10,style:{fontSize:"10px",fontWeight:"bold",fill:"#64748b"},formatter:r=>x(r,a)})},a))]}):t.type==="area"?e.jsxs(ve,{data:i,children:[e.jsx("defs",{children:(t.yAxes||(t.yAxis?[t.yAxis]:[])).map((a,s)=>e.jsxs("linearGradient",{id:`color-${a}-${c.replace(/\s+/g,"")}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:s===0?t.color||d[0]:d[s%d.length],stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:s===0?t.color||d[0]:d[s%d.length],stopOpacity:0})]},`grad-${a}`))}),e.jsx(g,{dataKey:t.xAxis,axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"}}),e.jsx(w,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"},tickFormatter:a=>x(a,(t.yAxes||[])[0])}),e.jsx(f,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),e.jsx(h,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"},formatter:(a,s)=>[x(a,s),s]}),e.jsx(u,{verticalAlign:"top",height:36,iconType:"circle",wrapperStyle:{fontSize:"10px",fontWeight:"bold"}}),(t.yAxes||(t.yAxis?[t.yAxis]:[])).map((a,s)=>e.jsx(ye,{type:"monotone",dataKey:a,stroke:s===0?t.color||d[0]:d[s%d.length],strokeWidth:3,fillOpacity:1,fill:`url(#color-${a}-${c.replace(/\s+/g,"")})`,children:t.showLabels&&e.jsx(v,{dataKey:a,position:"top",style:{fontSize:"10px",fontWeight:"bold",fill:"#64748b"},formatter:r=>x(r,a)})},a))]}):t.type==="pie"?e.jsxs(Ne,{children:[e.jsx(Se,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percent:s})=>`${a??""} ${(s?s*100:0).toFixed(0)}%`,outerRadius:80,innerRadius:50,paddingAngle:5,dataKey:(t.yAxes||(t.yAxis?[t.yAxis]:[]))[0]||"",nameKey:t.xAxis,children:i.map((a,s)=>e.jsx(Ae,{fill:d[s%d.length],stroke:"white",strokeWidth:2},`cell-${s}`))}),e.jsx(h,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),e.jsx(u,{verticalAlign:"bottom",height:36,iconSize:8,wrapperStyle:{fontSize:"10px",fontWeight:"bold"}})]}):t.type==="composed"?e.jsxs(Le,{data:i,children:[e.jsx(f,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),e.jsx(g,{dataKey:t.xAxis,axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"}}),e.jsx(w,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"},tickFormatter:a=>x(a,(t.yAxes||[])[0])}),e.jsx(h,{contentStyle:{borderRadius:"12px",border:"none"},formatter:(a,s)=>[x(a,s),s]}),e.jsx(u,{verticalAlign:"top",height:36,iconType:"circle"}),(t.yAxes||[]).map((a,s)=>t.lineSeries?.includes(a)?e.jsx(U,{type:"monotone",dataKey:a,stroke:d[s%d.length],strokeWidth:3,children:t.showLabels&&e.jsx(v,{dataKey:a,position:"top",style:{fontSize:"10px",fontWeight:"bold",fill:"#64748b"},formatter:r=>x(r,a)})},a):e.jsx(P,{dataKey:a,fill:d[s%d.length],radius:[4,4,0,0],children:t.showLabels&&e.jsx(v,{dataKey:a,position:"top",style:{fontSize:"10px",fontWeight:"bold",fill:"#64748b"},formatter:r=>x(r,a)})},a))]}):t.type==="radar"?e.jsxs(_e,{cx:"50%",cy:"50%",outerRadius:"80%",data:i,children:[e.jsx($e,{stroke:"#e2e8f0"}),e.jsx(Re,{dataKey:t.xAxis,tick:{fontSize:10,fill:"#64748b"}}),e.jsx(Ce,{angle:30,domain:[0,"auto"],tick:{fontSize:8}}),(t.yAxes||[]).map((a,s)=>e.jsx(Te,{name:a,dataKey:a,stroke:d[s%d.length],fill:d[s%d.length],fillOpacity:.6},a)),e.jsx(u,{iconType:"circle",wrapperStyle:{fontSize:"10px"}}),e.jsx(h,{})]}):t.type==="scatter"?e.jsxs(Ee,{children:[e.jsx(f,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),e.jsx(g,{type:"number",dataKey:t.xAxis,name:t.xAxis,axisLine:!1,tickLine:!1,tick:{fontSize:10}}),e.jsx(w,{type:"number",dataKey:(t.yAxes||[])[0],name:(t.yAxes||[])[0],axisLine:!1,tickLine:!1,tick:{fontSize:10}}),e.jsx(h,{cursor:{strokeDasharray:"3 3"}}),e.jsx(u,{verticalAlign:"top",height:36}),e.jsx(Ie,{name:c,data:i,fill:t.color||d[0]})]}):t.type==="pivot"?e.jsx(W,{data:i,rows:t.pivotRows||[],cols:t.pivotCols||[],measures:t.pivotMeasures||[]}):null})}),i&&i.length>0&&e.jsx(xe,{isOpen:G,onClose:()=>I(!1),items:i,initialIndex:H,title:c,schema:X||void 0,tableName:j.match(/FROM\s+([a-zA-Z0-9_]+)/i)?.[1]})]})};export{qe as W};
